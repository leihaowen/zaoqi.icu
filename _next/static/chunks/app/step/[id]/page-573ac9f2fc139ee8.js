(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{4220:function(e,s,a){Promise.resolve().then(a.bind(a,6612))},6612:function(e,s,a){"use strict";a.d(s,{default:function(){return J}});var t=a(7437),l=a(9376),n=a(2265),i=a(2097),r=a(2869),d=a(6070),c=a(2660),o=a(6858),x=a(4508);let m=n.forwardRef((e,s)=>{let{className:a,type:l,...n}=e;return(0,t.jsx)("input",{type:l,className:(0,x.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});m.displayName="Input";let g=n.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,x.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});g.displayName="Textarea";var h=a(8896),p=a(9397),u=a(2489),j=a(1723),b=a(2252),v=a(9144);let f=(0,a(535).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=n.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.f,{ref:s,className:(0,x.cn)(f(),a),...l})});function y(e){let{className:s,variant:a="default",...l}=e;return(0,t.jsx)("div",{className:(0,x.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border"}[a],s),...l})}N.displayName=v.f.displayName;var k=a(5252),w=a(9637),C=a(1047),Z=a(7414),D=a(7586),z=a(4630),S=a(1567),O=a(525),F=a(3618),P=a(4972),A=a(5805),B=a(1239),V=a(1217),E=a(3417),Y=a(5302),L=a(8736),T=a(2735),I=a(4457),R=a.n(I),q=a(3375);async function _(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:"png"};try{let a=document.getElementById(e);if(!a)throw Error('Element with id "'.concat(e,'" not found'));let t=await R()(a,{scale:s.scale||2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:a.scrollWidth,height:a.scrollHeight}),l=document.createElement("a");return l.download=s.filename||"negotiation-report-".concat(new Date().toISOString().split("T")[0],".png"),l.href=t.toDataURL("image/png",s.quality||.9),document.body.appendChild(l),l.click(),document.body.removeChild(l),!0}catch(e){throw console.error("PNG export failed:",e),e}}async function M(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:"pdf"};try{let a=document.getElementById(e);if(!a)throw Error('Element with id "'.concat(e,'" not found'));let t=await R()(a,{scale:s.scale||2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:a.scrollWidth,height:a.scrollHeight}),l=t.toDataURL("image/png",s.quality||.9),n=new q.ZP({orientation:"portrait",unit:"mm",format:"a4"}),i=190*t.height/t.width;if(i<=277)n.addImage(l,"PNG",10,10,190,i);else{let e=i,a=0,l=1;for(;e>0;){let r=Math.min(e,277);l>1&&n.addPage();let d=a/i*t.height,c=r/i*t.height,o=document.createElement("canvas"),x=o.getContext("2d");if(o.width=t.width,o.height=c,x){x.drawImage(t,0,d,t.width,c,0,0,t.width,c);let e=o.toDataURL("image/png",s.quality||.9);n.addImage(e,"PNG",10,10,190,r)}e-=r,a+=r,l++}}let r=s.filename||"negotiation-report-".concat(new Date().toISOString().split("T")[0],".pdf");return n.save(r),!0}catch(e){throw console.error("PDF export failed:",e),e}}async function K(e,s){if("png"===s.format)return await _(e,s);if("pdf"===s.format)return await M(e,s);throw Error("Unsupported export format: ".concat(s.format))}function U(e){var s,a,t,l,n,i,r,d,c,o,x,m;let g=new Date().toLocaleDateString("zh-CN");return console.log("导出数据检查:",{batnaOptions:(null===(s=e.batnaOptions)||void 0===s?void 0:s.length)||0,stakeholders:(null===(a=e.stakeholders)||void 0===a?void 0:a.length)||0,bestBatna:!!e.bestBatna,bottomLineBuffer:e.bottomLineBuffer}),'\n    <div style="font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px 20px; background: white;">\n      <!-- 顶部品牌标识 -->\n      <div style="text-align: center; margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; color: white;">\n        <div style="font-size: 24px; font-weight: bold; margin-bottom: 8px;">\uD83C\uDFAF 彩礼谈判准备工具</div>\n        <div style="font-size: 16px; opacity: 0.9; margin-bottom: 12px;">专业 \xb7 科学 \xb7 高效</div>\n        <div style="font-size: 14px; opacity: 0.8;">\n          <span style="background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; margin: 0 8px;">\n            \uD83C\uDF10 zaoqi.icu\n          </span>\n          <span style="background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; margin: 0 8px;">\n            \uD83D\uDCF1 抖音: 36095284700\n          </span>\n        </div>\n      </div>\n\n      <div style="text-align: center; margin-bottom: 40px; border-bottom: 3px solid #3b82f6; padding-bottom: 20px;">\n        <h1 style="font-size: 28px; color: #1f2937; margin: 0 0 10px 0;">彩礼谈判准备报告</h1>\n        <p style="color: #6b7280; margin: 0; font-size: 16px;">生成日期: '.concat(g,"</p>\n      </div>\n\n      ").concat((null===(t=e.goals)||void 0===t?void 0:t.primary)?'\n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #3b82f6; font-size: 20px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 12px;">\uD83C\uDFAF 谈判目标</h2>\n        <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">\n          <p style="margin: 0 0 10px 0; font-weight: 600;">主要目标:</p>\n          <p style="margin: 0 0 15px 0; color: #374151;">'.concat(e.goals.primary,"</p>\n          \n          ").concat((null===(l=e.goals.secondary)||void 0===l?void 0:l.length)>0?'\n          <p style="margin: 0 0 10px 0; font-weight: 600;">次要目标:</p>\n          <ul style="margin: 0 0 15px 0; color: #374151; padding-left: 20px;">\n            '.concat(e.goals.secondary.map(e=>'<li style="margin-bottom: 5px;">'.concat(e,"</li>")).join(""),"\n          </ul>\n          "):"",'\n          \n          <p style="margin: 0 0 10px 0; font-weight: 600;">时间框架:</p>\n          <p style="margin: 0 0 15px 0; color: #374151;">').concat(e.goals.timeline,"</p>\n          \n          ").concat((null===(n=e.goals.constraints)||void 0===n?void 0:n.length)>0?'\n          <p style="margin: 0 0 10px 0; font-weight: 600;">约束条件:</p>\n          <ul style="margin: 0; color: #374151; padding-left: 20px;">\n            '.concat(e.goals.constraints.map(e=>'<li style="margin-bottom: 5px;">'.concat(e,"</li>")).join(""),"\n          </ul>\n          "):"","\n        </div>\n      </div>\n      "):"","\n\n      ").concat((null===(i=e.issues)||void 0===i?void 0:i.length)>0?'\n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #3b82f6; font-size: 20px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 12px;">\uD83D\uDCCB 关键议题</h2>\n        <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">\n          '.concat(e.issues.map(e=>'\n            <div style="margin-bottom: 15px; padding: 15px; background: white; border-radius: 6px; border: 1px solid #e5e7eb;">\n              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">\n                <h3 style="margin: 0; font-size: 16px; color: #1f2937;">'.concat(e.name,'</h3>\n                <span style="background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 12px; font-size: 12px;">重要性: ').concat(e.importance,"/10</span>\n              </div>\n              ").concat(e.description?'<p style="margin: 0 0 8px 0; color: #6b7280; font-size: 14px; font-style: italic;">'.concat(e.description,"</p>"):"",'\n              <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; font-size: 14px;">\n                <div><strong>理想值:</strong> ').concat(e.idealValue," ").concat(e.unit,"</div>\n                <div><strong>可接受:</strong> ").concat(e.acceptableValue," ").concat(e.unit,"</div>\n                <div><strong>底线:</strong> ").concat(e.bottomLine," ").concat(e.unit,"</div>\n              </div>\n            </div>\n          ")).join(""),"\n        </div>\n      </div>\n      "):"","\n\n      ").concat((null===(r=e.batnaOptions)||void 0===r?void 0:r.length)>0?'\n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #3b82f6; font-size: 20px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 12px;">\uD83E\uDDEE BATNA分析</h2>\n        \n        '.concat(e.bestBatna?'\n        <div style="background: #f0fdf4; padding: 20px; border-radius: 8px; border: 1px solid #bbf7d0; margin-bottom: 20px;">\n          <h3 style="margin: 0 0 10px 0; color: #166534;">\uD83C\uDFC6 最佳BATNA: '.concat(e.bestBatna.name,'</h3>\n          <p style="margin: 0 0 10px 0; color: #166534; font-weight: 600;">净价值: ').concat(null===(d=e.bestBatna.netValue)||void 0===d?void 0:d.toFixed(1),' 万元</p>\n          <p style="margin: 0; color: #166534;">').concat(e.bestBatna.description,"</p>\n          ").concat(e.bottomLineBuffer?'<p style="margin: 10px 0 0 0; color: #166534; font-size: 14px;">谈判底线: '.concat((e.bestBatna.netValue-e.bottomLineBuffer).toFixed(1)," 万元 (缓冲: ").concat(e.bottomLineBuffer," 万元)</p>"):"","\n        </div>\n        "):"",'\n        \n        <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">\n          <h4 style="margin: 0 0 15px 0; color: #374151;">所有BATNA选项对比:</h4>\n          ').concat(e.batnaOptions.map(s=>{var a,t,l;return'\n            <div style="margin-bottom: 15px; padding: 15px; background: white; border-radius: 6px; border: 1px solid #e5e7eb; '.concat(s.id===(null===(a=e.bestBatna)||void 0===a?void 0:a.id)?"border-color: #10b981; background: #f0fdf4;":"",'">\n              <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 8px;">\n                <h4 style="margin: 0; color: #1f2937;">').concat(s.name," ").concat(s.id===(null===(t=e.bestBatna)||void 0===t?void 0:t.id)?"⭐":"",'</h4>\n                <span style="background: ').concat(s.netValue>=0?"#dcfce7":"#fef2f2","; color: ").concat(s.netValue>=0?"#166534":"#dc2626",'; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">净值: ').concat(null===(l=s.netValue)||void 0===l?void 0:l.toFixed(1),' 万</span>\n              </div>\n              <p style="margin: 0 0 10px 0; color: #6b7280; font-size: 14px;">').concat(s.description,'</p>\n              <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 8px; font-size: 12px; color: #6b7280;">\n                <div>收益: +').concat(s.gain,"</div>\n                <div>成本: -").concat(s.directCost,"</div>\n                <div>风险: -").concat(s.riskPenalty,"</div>\n                <div>转换: -").concat(s.switchCost,"</div>\n              </div>\n            </div>\n          ")}).join(""),"\n        </div>\n      </div>\n      "):"","\n\n      ").concat((null===(c=e.stakeholders)||void 0===c?void 0:c.length)>0?'\n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #3b82f6; font-size: 20px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 12px;">\uD83D\uDC65 利益相关者分析</h2>\n        <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">\n          '.concat(e.stakeholders.map(e=>{var s,a;return'\n            <div style="margin-bottom: 20px; padding: 15px; background: white; border-radius: 6px; border: 1px solid #e5e7eb;">\n              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">\n                <h4 style="margin: 0; color: #1f2937;">'.concat(e.name,'</h4>\n                <span style="background: #e0e7ff; color: #3730a3; padding: 2px 8px; border-radius: 12px; font-size: 12px;">').concat(e.role,'</span>\n              </div>\n              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 10px;">\n                <div>\n                  <span style="font-weight: 600; color: #7c3aed;">影响力:</span>\n                  <span style="color: #6b46c1;">').concat(e.influence,'/10</span>\n                </div>\n                <div>\n                  <span style="font-weight: 600; color: #7c3aed;">支持度:</span>\n                  <span style="color: #6b46c1;">').concat(e.support,"/10</span>\n                </div>\n              </div>\n              ").concat((null===(s=e.painPoints)||void 0===s?void 0:s.length)>0?'\n              <div style="margin-bottom: 8px;">\n                <span style="font-weight: 600; color: #dc2626;">痛点:</span>\n                <ul style="margin: 5px 0 0 0; padding-left: 20px; color: #6b7280;">\n                  '.concat(e.painPoints.map(e=>'<li style="margin-bottom: 2px;">'.concat(e,"</li>")).join(""),"\n                </ul>\n              </div>\n              "):"","\n              ").concat((null===(a=e.interests)||void 0===a?void 0:a.length)>0?'\n              <div>\n                <span style="font-weight: 600; color: #059669;">利益诉求:</span>\n                <ul style="margin: 5px 0 0 0; padding-left: 20px; color: #6b7280;">\n                  '.concat(e.interests.map(e=>'<li style="margin-bottom: 2px;">'.concat(e,"</li>")).join(""),"\n                </ul>\n              </div>\n              "):"","\n            </div>\n          ")}).join(""),"\n        </div>\n      </div>\n      "):"","\n\n      ").concat((null===(o=e.strategy)||void 0===o?void 0:o.approach)?'\n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #3b82f6; font-size: 20px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 12px;">\uD83C\uDFB2 谈判策略</h2>\n        <div style="background: #faf5ff; padding: 20px; border-radius: 8px; border: 1px solid #e9d5ff;">\n          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">\n            <div>\n              <p style="margin: 0 0 5px 0; font-weight: 600; color: #7c3aed;">谈判方式:</p>\n              <p style="margin: 0; color: #6b46c1;">'.concat("collaborative"===e.strategy.approach?"合作型":"competitive"===e.strategy.approach?"竞争型":"迁就型",'</p>\n            </div>\n            <div>\n              <p style="margin: 0 0 5px 0; font-weight: 600; color: #7c3aed;">让步模式:</p>\n              <p style="margin: 0; color: #6b46c1;">').concat("linear"===e.strategy.concessionPattern?"线性让步":"exponential"===e.strategy.concessionPattern?"递减让步":"阶梯让步","</p>\n            </div>\n          </div>\n          ").concat(e.strategy.timeStrategy?'\n          <div>\n            <p style="margin: 0 0 5px 0; font-weight: 600; color: #7c3aed;">时间策略:</p>\n            <p style="margin: 0; color: #6b46c1; font-style: italic;">'.concat(e.strategy.timeStrategy,"</p>\n          </div>\n          "):"","\n        </div>\n      </div>\n      "):"","\n\n      ").concat((null===(x=e.anchorStrategy)||void 0===x?void 0:x.type)?'\n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #3b82f6; font-size: 20px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 12px;">⚓ 开场锚点策略</h2>\n        <div style="background: #fff7ed; padding: 20px; border-radius: 8px; border: 1px solid #fed7aa;">\n          <div style="margin-bottom: 15px;">\n            <p style="margin: 0 0 5px 0; font-weight: 600; color: #ea580c;">锚点类型:</p>\n            <p style="margin: 0; color: #c2410c;">'.concat("aggressive"===e.anchorStrategy.type?"激进锚点 - 设定较高的初始报价，为后续让步留出空间":"moderate"===e.anchorStrategy.type?"温和锚点 - 设定合理的初始报价，平衡期望与现实":"保守锚点 - 设定较为保守的初始报价，降低谈判风险","</p>\n          </div>\n          \n          ").concat(Object.keys(e.anchorStrategy.firstOffer||{}).length>0?'\n          <div style="margin-bottom: 15px;">\n            <p style="margin: 0 0 10px 0; font-weight: 600; color: #ea580c;">首次报价:</p>\n            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #fed7aa;">\n              '.concat(Object.entries(e.anchorStrategy.firstOffer).map(s=>{var a;let[t,l]=s,n=null===(a=e.issues)||void 0===a?void 0:a.find(e=>e.id===t);return n?'\n                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; padding: 8px; background: #fef3c7; border-radius: 4px;">\n                    <span style="font-weight: 500;">'.concat(n.name,':</span>\n                    <span style="font-weight: 600; color: #d97706;">').concat(l," ").concat(n.unit,"</span>\n                  </div>\n                "):""}).join(""),"\n            </div>\n          </div>\n          "):"","\n          \n          ").concat((null===(m=e.anchorStrategy.justification)||void 0===m?void 0:m.length)>0?'\n          <div>\n            <p style="margin: 0 0 10px 0; font-weight: 600; color: #ea580c;">支撑理由:</p>\n            <ul style="margin: 0; padding-left: 20px; color: #c2410c;">\n              '.concat(e.anchorStrategy.justification.map(e=>'<li style="margin-bottom: 8px;">'.concat(e,"</li>")).join(""),"\n            </ul>\n          </div>\n          "):"","\n        </div>\n      </div>\n      "):"",'\n\n      <!-- 底部品牌信息 -->\n      <div style="margin-top: 50px; padding: 30px 20px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 12px; text-align: center; color: white;">\n        <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 20px; align-items: center; max-width: 600px; margin: 0 auto;">\n          \n          <!-- 左侧：工具信息 -->\n          <div style="text-align: left;">\n            <div style="font-size: 18px; font-weight: bold; margin-bottom: 8px;">\uD83C\uDFAF 彩礼谈判准备工具</div>\n            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 4px;">\uD83C\uDF10 官网：zaoqi.icu</div>\n            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 4px;">\uD83D\uDCF1 抖音：36095284700</div>\n            <div style="font-size: 12px; opacity: 0.8;">科学谈判 \xb7 数据驱动 \xb7 专业分析</div>\n          </div>\n          \n          <!-- 中间：抖音二维码 -->\n          <div style="text-align: center;">\n            <div style="width: 80px; height: 80px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px;">\n              <div style="font-size: 12px; color: #666; text-align: center; line-height: 1.2;">\n                抖音<br/>二维码<br/>\n                <span style="font-size: 10px;">36095284700</span>\n              </div>\n            </div>\n            <div style="font-size: 11px; opacity: 0.8;">扫码关注</div>\n          </div>\n          \n          <!-- 右侧：联系信息 -->\n          <div style="text-align: right;">\n            <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px;">\uD83D\uDCA1 更多工具</div>\n            <div style="font-size: 12px; opacity: 0.9; margin-bottom: 4px;">• 谈判策略分析</div>\n            <div style="font-size: 12px; opacity: 0.9; margin-bottom: 4px;">• 数据可视化</div>\n            <div style="font-size: 12px; opacity: 0.9; margin-bottom: 4px;">• 专业报告生成</div>\n            <div style="font-size: 11px; opacity: 0.8; margin-top: 8px;">访问 zaoqi.icu 了解更多</div>\n          </div>\n          \n        </div>\n        \n        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.3); font-size: 12px; opacity: 0.8;">\n          本报告由彩礼谈判准备工具生成 | 数据仅保存在本地浏览器，确保隐私安全 | \xa9 zaoqi.icu\n        </div>\n      </div>\n    </div>\n  ')}function G(){let{goals:e,issues:s,batnaOptions:a,bestBatna:l,bottomLineBuffer:r,stakeholders:d,strategy:c,anchorStrategy:o}=(0,i.j)(),[x,m]=(0,n.useState)("");return(0,n.useEffect)(()=>{m(U({goals:e,issues:s,batnaOptions:a,bestBatna:l,bottomLineBuffer:r,stakeholders:d,strategy:c,anchorStrategy:o}))},[e,s,a,l,r,d,c,o]),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"导出预览"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"这是您的谈判准备报告预览，点击导出按钮可生成 PNG 或 PDF 文件"})]}),(0,t.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden bg-white shadow-lg",style:{minHeight:"600px"},children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:x},className:"export-preview"})}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\uD83D\uDCA1 提示：导出的文件将包含完整的谈判准备内容，格式专业美观"})})]})}let H={1:function(){let{goals:e,updateGoals:s,loadExample:a}=(0,i.j)(),[l,c]=(0,n.useState)(""),[o,x]=(0,n.useState)(""),v=e=>{s({primary:e})},f=e=>{s({timeline:e})},N=()=>{l.trim()&&(s({secondary:[...e.secondary,l.trim()]}),c(""))},y=a=>{s({secondary:e.secondary.filter((e,s)=>s!==a)})},k=()=>{o.trim()&&(s({constraints:[...e.constraints,o.trim()]}),x(""))},w=a=>{s({constraints:e.constraints.filter((e,s)=>s!==a)})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"为什么要设定明确的目标？"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"明确的目标是成功谈判的基础。主要目标帮助你保持专注，次要目标确保全面考虑， 时间框架创造紧迫感，约束条件帮助你制定现实可行的策略。"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{className:"text-lg",children:"快速开始"}),(0,t.jsx)(d.SZ,{children:"选择一个示例来快速填充表单，然后根据你的实际情况进行调整"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(r.z,{variant:"outline",onClick:()=>a("male"),className:"flex-1",children:"加载男方示例"}),(0,t.jsx)(r.z,{variant:"outline",onClick:()=>a("female"),className:"flex-1",children:"加载女方示例"})]})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-blue-600"}),"主要目标"]}),(0,t.jsx)(d.SZ,{children:"你在这次谈判中最重要的目标是什么？要具体、可衡量。"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)(g,{placeholder:"例如：以双方都能接受的彩礼金额达成婚约，确保婚礼能够顺利进行",value:e.primary,onChange:e=>v(e.target.value),className:"min-h-[100px]"})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"次要目标"}),(0,t.jsx)(d.SZ,{children:"除了主要目标外，你还希望在谈判中实现什么？"})]}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m,{placeholder:"输入次要目标",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&N()}),(0,t.jsx)(r.z,{onClick:N,size:"sm",children:(0,t.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.secondary.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:[(0,t.jsx)("span",{className:"flex-1 text-sm",children:e}),(0,t.jsx)("button",{onClick:()=>y(s),className:"ml-2 p-1 hover:bg-red-100 dark:hover:bg-red-900/20 rounded hover:text-red-600 transition-colors",children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]},s))})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"w-5 h-5 text-green-600"}),"时间框架"]}),(0,t.jsx)(d.SZ,{children:"你希望在什么时间内完成这次谈判？"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)(m,{placeholder:"例如：3个月内确定彩礼金额和婚礼安排",value:e.timeline,onChange:e=>f(e.target.value)})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Z,{className:"w-5 h-5 text-orange-600"}),"约束条件"]}),(0,t.jsx)(d.SZ,{children:"有哪些因素会限制你的谈判选择？"})]}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m,{placeholder:"例如：家庭经济承受能力、当地习俗要求",value:o,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&k()}),(0,t.jsx)(r.z,{onClick:k,size:"sm",children:(0,t.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.constraints.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:[(0,t.jsx)("span",{className:"flex-1 text-sm",children:e}),(0,t.jsx)("button",{onClick:()=>w(s),className:"ml-2 p-1 hover:bg-red-100 dark:hover:bg-red-900/20 rounded hover:text-red-600 transition-colors",children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]},s))})]})]}),e.primary&&e.timeline&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"目标设定完成！"})]}),(0,t.jsx)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:'你已经设定了明确的谈判目标。点击"下一步"继续识别关键议题。'})]})]})},2:function(){let{issues:e,addIssue:s,updateIssue:a,removeIssue:l}=(0,i.j)(),[c,o]=(0,n.useState)(!1),[x,h]=(0,n.useState)(null),[j,b]=(0,n.useState)({name:"",description:"",importance:5,idealValue:0,acceptableValue:0,bottomLine:0,unit:"万元"}),v=[{name:"彩礼金额",unit:"万元",icon:k.Z,description:"彩礼的具体金额"},{name:"房产安排",unit:"套",icon:w.Z,description:"婚房的购买或准备"},{name:"婚礼规模",unit:"桌",icon:C.Z,description:"婚礼宴席的规模"},{name:"三金首饰",unit:"套",icon:Z.Z,description:"传统三金首饰"}],f=()=>{b({name:"",description:"",importance:5,idealValue:0,acceptableValue:0,bottomLine:0,unit:"万元"}),h(null),o(!1)},S=e=>{b({name:e.name,description:e.description,importance:e.importance,idealValue:e.idealValue,acceptableValue:e.acceptableValue,bottomLine:e.bottomLine,unit:e.unit}),h(e.id),o(!0)},O=e=>{b({name:e.name,description:e.description,importance:7,idealValue:0,acceptableValue:0,bottomLine:0,unit:e.unit}),o(!0)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"识别关键议题"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"列出所有需要在谈判中讨论的重要议题。每个议题都需要设定重要性级别和价值区间， 这将帮助你在谈判中做出明智的取舍决策。"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(D.Z,{className:"w-5 h-5 text-green-600"}),"常见议题"]}),(0,t.jsx)(d.SZ,{children:"点击下方常见议题快速添加，然后设定具体的价值区间"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:v.map((e,s)=>(0,t.jsxs)(r.z,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>O(e),children:[(0,t.jsx)(e.icon,{className:"w-6 h-6 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.description})]},s))})})]}),e.length>0&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"已识别的议题"}),(0,t.jsx)(d.SZ,{children:"点击编辑按钮来设定每个议题的具体价值区间"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsxs)(y,{variant:"secondary",children:["重要性: ",e.importance,"/10"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"理想值:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium",children:[e.idealValue," ",e.unit]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"可接受:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium",children:[e.acceptableValue," ",e.unit]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"底线:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium",children:[e.bottomLine," ",e.unit]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>S(e),children:(0,t.jsx)(z.Z,{className:"w-4 h-4"})}),(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>l(e.id),children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]})]})},e.id))})})]}),c&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:x?"编辑议题":"添加新议题"})}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"name",children:"议题名称"}),(0,t.jsx)(m,{id:"name",value:j.name,onChange:e=>b({...j,name:e.target.value}),placeholder:"例如：彩礼金额"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"description",children:"详细描述"}),(0,t.jsx)(g,{id:"description",value:j.description,onChange:e=>b({...j,description:e.target.value}),placeholder:"描述这个议题的具体内容和重要性"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"importance",children:"重要性 (1-10)"}),(0,t.jsx)(m,{id:"importance",type:"number",min:"1",max:"10",value:j.importance,onChange:e=>b({...j,importance:parseInt(e.target.value)||1})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"unit",children:"单位"}),(0,t.jsx)(m,{id:"unit",value:j.unit,onChange:e=>b({...j,unit:e.target.value}),placeholder:"万元、套、桌等"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"idealValue",children:"理想值"}),(0,t.jsx)(m,{id:"idealValue",type:"number",value:j.idealValue,onChange:e=>b({...j,idealValue:parseFloat(e.target.value)||0}),placeholder:"最理想的结果"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"acceptableValue",children:"可接受值"}),(0,t.jsx)(m,{id:"acceptableValue",type:"number",value:j.acceptableValue,onChange:e=>b({...j,acceptableValue:parseFloat(e.target.value)||0}),placeholder:"可以接受的结果"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"bottomLine",children:"底线值"}),(0,t.jsx)(m,{id:"bottomLine",type:"number",value:j.bottomLine,onChange:e=>b({...j,bottomLine:parseFloat(e.target.value)||0}),placeholder:"最低可接受的结果"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.z,{onClick:()=>{j.name.trim()&&(x?a(x,j):s(j),f())},children:x?"更新议题":"添加议题"}),(0,t.jsx)(r.z,{variant:"outline",onClick:f,children:"取消"})]})]})]}),!c&&(0,t.jsxs)(r.z,{onClick:()=>o(!0),className:"w-full",variant:"outline",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"添加自定义议题"]}),e.length>0&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(D.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"议题识别完成！"})]}),(0,t.jsxs)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["已识别 ",e.length,' 个关键议题。点击"下一步"继续确定价值区间。']})]})]})},3:function(){let{issues:e}=(0,i.j)();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"价值区间分析"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"基于你在第二步设定的议题价值区间，这里展示每个议题的谈判空间。 理想值到底线之间的区间就是你的让步空间。"})]}),e.length>0?(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"w-5 h-5 text-blue-600"}),e.name]}),(0,t.jsxs)(d.SZ,{children:["重要性: ",e.importance,"/10 | 单位: ",e.unit]})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400",children:"理想值"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-green-800 dark:text-green-200",children:[e.idealValue," ",e.unit]})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"可接受值"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-yellow-800 dark:text-yellow-200",children:[e.acceptableValue," ",e.unit]})]}),(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400",children:"底线值"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-red-800 dark:text-red-200",children:[e.bottomLine," ",e.unit]})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 via-yellow-400 to-red-400",style:{width:"100%"}})}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"理想"}),(0,t.jsx)("span",{children:"可接受"}),(0,t.jsx)("span",{children:"底线"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(O.Z,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium",children:"让步空间分析"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(0,t.jsxs)("p",{children:["• 总让步空间: ",Math.abs(e.idealValue-e.bottomLine)," ",e.unit]}),(0,t.jsxs)("p",{children:["• 理想到可接受: ",Math.abs(e.idealValue-e.acceptableValue)," ",e.unit]}),(0,t.jsxs)("p",{children:["• 可接受到底线: ",Math.abs(e.acceptableValue-e.bottomLine)," ",e.unit]})]})]})]})})]},e.id))}):(0,t.jsx)(d.Zb,{children:(0,t.jsxs)(d.aY,{className:"text-center py-8",children:[(0,t.jsx)(S.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"暂无议题数据"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"请先在第二步中添加议题并设定价值区间"})]})}),e.length>0&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(S.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"价值区间分析完成！"})]}),(0,t.jsxs)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["已分析 ",e.length,' 个议题的价值区间。点击"下一步"继续计算BATNA方案。']})]})]})},4:function(){var e;let{batnaOptions:s,bestBatna:a,bottomLineBuffer:l,addBatnaOption:c,updateBatnaOption:o,removeBatnaOption:x,calculateBestBatna:h,updateBottomLineBuffer:j,updateGoals:v}=(0,i.j)(),[f,k]=(0,n.useState)(!1),[w,C]=(0,n.useState)(null),[Z,D]=(0,n.useState)({name:"",description:"",gain:0,directCost:0,riskPenalty:0,switchCost:0}),z=()=>{D({name:"",description:"",gain:0,directCost:0,riskPenalty:0,switchCost:0}),C(null),k(!1)},S=e=>{D({name:e.name,description:e.description,gain:e.gain,directCost:e.directCost,riskPenalty:e.riskPenalty,switchCost:e.switchCost}),C(e.id),k(!0)},P=e=>{j(e)},A=()=>a?(a.netValue||0)-l:0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"BATNA 计算器"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"BATNA（Best Alternative to a Negotiated Agreement）是你的最佳替代方案。 通过计算各种备选方案的净价值，确定你的谈判底线。"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(F.Z,{className:"w-5 h-5 text-green-600"}),"计算公式"]})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-center text-lg font-mono",children:"净价值 = 收益 - 直接成本 - 风险损失 - 转换成本"}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-green-600",children:"收益："}),(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"预期获得的价值"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-red-600",children:"直接成本："}),(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"明确的支出费用"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-orange-600",children:"风险损失："}),(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"可能的风险成本"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-purple-600",children:"转换成本："}),(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"切换方案的成本"})]})]})]})})]}),s.length>0&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"BATNA 方案列表"}),(0,t.jsx)(d.SZ,{children:"所有备选方案及其净价值计算"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>{var s,l;return(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsxs)(y,{variant:e.id===(null==a?void 0:a.id)?"default":"secondary",children:["净价值: ",(null===(s=e.netValue)||void 0===s?void 0:s.toFixed(1))||0," 万元"]}),e.id===(null==a?void 0:a.id)&&(0,t.jsx)(y,{className:"bg-green-600",children:"最佳方案"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>S(e),children:"编辑"}),(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>{x(e.id),h()},children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"text-center p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[(0,t.jsx)("div",{className:"text-green-600 font-medium",children:"收益"}),(0,t.jsxs)("div",{className:"text-green-800 dark:text-green-200",children:["+",e.gain," 万元"]})]}),(0,t.jsxs)("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[(0,t.jsx)("div",{className:"text-red-600 font-medium",children:"直接成本"}),(0,t.jsxs)("div",{className:"text-red-800 dark:text-red-200",children:["-",e.directCost," 万元"]})]}),(0,t.jsxs)("div",{className:"text-center p-2 bg-orange-50 dark:bg-orange-900/20 rounded",children:[(0,t.jsx)("div",{className:"text-orange-600 font-medium",children:"风险损失"}),(0,t.jsxs)("div",{className:"text-orange-800 dark:text-orange-200",children:["-",e.riskPenalty," 万元"]})]}),(0,t.jsxs)("div",{className:"text-center p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[(0,t.jsx)("div",{className:"text-purple-600 font-medium",children:"转换成本"}),(0,t.jsxs)("div",{className:"text-purple-800 dark:text-purple-200",children:["-",e.switchCost," 万元"]})]}),(0,t.jsxs)("div",{className:"text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[(0,t.jsx)("div",{className:"text-blue-600 font-medium",children:"净价值"}),(0,t.jsxs)("div",{className:"text-blue-800 dark:text-blue-200 font-bold",children:[(null===(l=e.netValue)||void 0===l?void 0:l.toFixed(1))||0," 万元"]})]})]})]},e.id)})})})]}),a&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(O.Z,{className:"w-5 h-5 text-blue-600"}),"谈判底线计算"]})}),(0,t.jsxs)(d.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-green-600 font-medium mb-1",children:"最佳 BATNA"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[null===(e=a.netValue)||void 0===e?void 0:e.toFixed(1)," 万元"]}),(0,t.jsx)("div",{className:"text-sm text-green-600 mt-1",children:a.name})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-yellow-600 font-medium mb-1",children:"安全缓冲"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(m,{type:"number",value:l,onChange:e=>P(parseFloat(e.target.value)||0),className:"w-20 text-center",step:"0.1"}),(0,t.jsx)("span",{className:"text-sm",children:"万元"})]}),(0,t.jsx)("div",{className:"text-xs text-yellow-600 mt-1",children:"预留安全空间"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-red-600 font-medium mb-1",children:"谈判底线"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-red-800 dark:text-red-200",children:[A().toFixed(1)," 万元"]}),(0,t.jsx)("div",{className:"text-sm text-red-600 mt-1",children:"不可突破的底线"})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:"底线说明"})]}),(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"谈判底线 = 最佳BATNA净价值 - 安全缓冲。任何低于此底线的协议都不如你的最佳替代方案。"})]})]})]}),f&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:w?"编辑 BATNA 方案":"添加 BATNA 方案"})}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"name",children:"方案名称"}),(0,t.jsx)(m,{id:"name",value:Z.name,onChange:e=>D({...Z,name:e.target.value}),placeholder:"例如：延期一年结婚"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"description",children:"详细描述"}),(0,t.jsx)(g,{id:"description",value:Z.description,onChange:e=>D({...Z,description:e.target.value}),placeholder:"描述这个替代方案的具体内容"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"gain",children:"收益 (万元)"}),(0,t.jsx)(m,{id:"gain",type:"number",value:Z.gain,onChange:e=>D({...Z,gain:parseFloat(e.target.value)||0}),placeholder:"预期获得的价值",step:"0.1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"directCost",children:"直接成本 (万元)"}),(0,t.jsx)(m,{id:"directCost",type:"number",value:Z.directCost,onChange:e=>D({...Z,directCost:parseFloat(e.target.value)||0}),placeholder:"明确的支出费用",step:"0.1"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"riskPenalty",children:"风险损失 (万元)"}),(0,t.jsx)(m,{id:"riskPenalty",type:"number",value:Z.riskPenalty,onChange:e=>D({...Z,riskPenalty:parseFloat(e.target.value)||0}),placeholder:"可能的风险成本",step:"0.1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"switchCost",children:"转换成本 (万元)"}),(0,t.jsx)(m,{id:"switchCost",type:"number",value:Z.switchCost,onChange:e=>D({...Z,switchCost:parseFloat(e.target.value)||0}),placeholder:"切换方案的成本",step:"0.1"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.z,{onClick:()=>{Z.name.trim()&&(w?o(w,Z):c(Z),h(),z())},children:w?"更新方案":"添加方案"}),(0,t.jsx)(r.z,{variant:"outline",onClick:z,children:"取消"})]})]})]}),!f&&(0,t.jsxs)(r.z,{onClick:()=>k(!0),className:"w-full",variant:"outline",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"添加 BATNA 方案"]}),a&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(F.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"BATNA 计算完成！"})]}),(0,t.jsxs)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["最佳方案：",a.name,"，谈判底线：",A().toFixed(1),' 万元。 点击"下一步"继续分析对方情况。']})]})]})},5:function(){let{stakeholders:e,addStakeholder:s,updateStakeholder:a,removeStakeholder:l}=(0,i.j)(),[c,o]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),[h,j]=(0,n.useState)({name:"",role:"",influence:5,support:5,painPoints:[],interests:[]}),[b,v]=(0,n.useState)(""),[f,k]=(0,n.useState)(""),w=()=>{j({name:"",role:"",influence:5,support:5,painPoints:[],interests:[]}),g(null),o(!1),v(""),k("")},C=e=>{j({name:e.name,role:e.role,influence:e.influence,support:e.support,painPoints:[...e.painPoints],interests:[...e.interests]}),g(e.id),o(!0)},Z=()=>{b.trim()&&(j({...h,painPoints:[...h.painPoints,b.trim()]}),v(""))},D=e=>{j({...h,painPoints:h.painPoints.filter((s,a)=>a!==e)})},z=()=>{f.trim()&&(j({...h,interests:[...h.interests,f.trim()]}),k(""))},S=e=>{j({...h,interests:h.interests.filter((s,a)=>a!==e)})},O=e=>e>=8?"text-red-600 bg-red-50 dark:bg-red-900/20":e>=6?"text-orange-600 bg-orange-50 dark:bg-orange-900/20":e>=4?"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":"text-green-600 bg-green-50 dark:bg-green-900/20",F=e=>e>=8?"text-green-600 bg-green-50 dark:bg-green-900/20":e>=6?"text-blue-600 bg-blue-50 dark:bg-blue-900/20":e>=4?"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":"text-red-600 bg-red-50 dark:bg-red-900/20";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"利益相关者分析"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"识别所有可能影响谈判结果的关键人物，分析他们的影响力、支持度、痛点和利益诉求。 这将帮助你制定针对性的沟通策略。"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"w-5 h-5 text-purple-600"}),"分析维度"]})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-orange-600 mb-2",children:"影响力 (1-10)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"这个人对谈判结果的影响程度。10分表示决定性影响，1分表示几乎无影响。"})]}),(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-green-600 mb-2",children:"支持度 (1-10)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"这个人对你的立场的支持程度。10分表示强烈支持，1分表示强烈反对。"})]})]})})]}),e.length>0&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"关键人物分析"}),(0,t.jsx)(d.SZ,{children:"已识别的利益相关者及其特征分析"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsx)(y,{variant:"secondary",children:e.role})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,t.jsxs)("div",{className:"text-center p-2 rounded ".concat(O(e.influence)),children:[(0,t.jsx)("div",{className:"font-medium",children:"影响力"}),(0,t.jsxs)("div",{className:"text-lg font-bold",children:[e.influence,"/10"]})]}),(0,t.jsxs)("div",{className:"text-center p-2 rounded ".concat(F(e.support)),children:[(0,t.jsx)("div",{className:"font-medium",children:"支持度"}),(0,t.jsxs)("div",{className:"text-lg font-bold",children:[e.support,"/10"]})]})]}),e.painPoints.length>0&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-red-600 mb-1",children:"痛点："}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.painPoints.map((e,s)=>(0,t.jsx)(y,{variant:"outline",className:"text-xs",children:e},s))})]}),e.interests.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-green-600 mb-1",children:"利益诉求："}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.interests.map((e,s)=>(0,t.jsx)(y,{variant:"outline",className:"text-xs",children:e},s))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>C(e),children:"编辑"}),(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>l(e.id),children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]})]})},e.id))})})]}),c&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:x?"编辑利益相关者":"添加利益相关者"})}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"name",children:"姓名"}),(0,t.jsx)(m,{id:"name",value:h.name,onChange:e=>j({...h,name:e.target.value}),placeholder:"例如：张父亲"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"role",children:"角色关系"}),(0,t.jsx)(m,{id:"role",value:h.role,onChange:e=>j({...h,role:e.target.value}),placeholder:"例如：男方父亲"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"influence",children:"影响力 (1-10)"}),(0,t.jsx)(m,{id:"influence",type:"number",min:"1",max:"10",value:h.influence,onChange:e=>j({...h,influence:parseInt(e.target.value)||1})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"support",children:"支持度 (1-10)"}),(0,t.jsx)(m,{id:"support",type:"number",min:"1",max:"10",value:h.support,onChange:e=>j({...h,support:parseInt(e.target.value)||1})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"痛点 (担心的问题)"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)(m,{value:b,onChange:e=>v(e.target.value),placeholder:"例如：担心经济负担过重",onKeyPress:e=>"Enter"===e.key&&Z()}),(0,t.jsx)(r.z,{onClick:Z,size:"sm",children:(0,t.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:h.painPoints.map((e,s)=>(0,t.jsxs)(y,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{onClick:()=>D(s),className:"ml-1 hover:text-red-600",children:(0,t.jsx)(u.Z,{className:"w-3 h-3"})})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"利益诉求 (希望得到什么)"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)(m,{value:f,onChange:e=>k(e.target.value),placeholder:"例如：希望女儿得到尊重",onKeyPress:e=>"Enter"===e.key&&z()}),(0,t.jsx)(r.z,{onClick:z,size:"sm",children:(0,t.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:h.interests.map((e,s)=>(0,t.jsxs)(y,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{onClick:()=>S(s),className:"ml-1 hover:text-red-600",children:(0,t.jsx)(u.Z,{className:"w-3 h-3"})})]},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.z,{onClick:()=>{h.name.trim()&&(x?a(x,h):s(h),w())},children:x?"更新":"添加"}),(0,t.jsx)(r.z,{variant:"outline",onClick:w,children:"取消"})]})]})]}),!c&&(0,t.jsxs)(r.z,{onClick:()=>o(!0),className:"w-full",variant:"outline",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"添加利益相关者"]}),e.length>0&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"利益相关者分析完成！"})]}),(0,t.jsxs)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["已分析 ",e.length,' 个关键人物。点击"下一步"继续制定谈判策略。']})]})]})},6:function(){var e,s;let{strategy:a,updateStrategy:l}=(0,i.j)(),n=[{value:"collaborative",label:"合作型",description:"寻求双赢解决方案，注重长期关系",color:"bg-green-50 border-green-200 text-green-800"},{value:"competitive",label:"竞争型",description:"追求自身利益最大化，适合一次性谈判",color:"bg-red-50 border-red-200 text-red-800"},{value:"accommodating",label:"迁就型",description:"优先维护关系，适当让步",color:"bg-blue-50 border-blue-200 text-blue-800"}],r=[{value:"linear",label:"线性让步",description:"每轮等量让步，节奏稳定",color:"bg-blue-50 border-blue-200 text-blue-800"},{value:"exponential",label:"递减让步",description:"初期大幅让步，后期坚持底线",color:"bg-orange-50 border-orange-200 text-orange-800"},{value:"step",label:"阶梯让步",description:"分阶段让步，每阶段内保持坚持",color:"bg-purple-50 border-purple-200 text-purple-800"}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"谈判策略制定"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"基于前面的分析，制定你的整体谈判策略。包括谈判方式、让步模式和时间安排。"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-blue-600"}),"谈判方式"]}),(0,t.jsx)(d.SZ,{children:"选择最适合你情况的谈判方式"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(e=>(0,t.jsxs)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(a.approach===e.value?e.color:"border-gray-200 hover:border-gray-300"),onClick:()=>l({approach:e.value}),children:[(0,t.jsx)("div",{className:"font-semibold mb-2",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description}),a.approach===e.value&&(0,t.jsx)(y,{className:"mt-2 bg-blue-600",children:"已选择"})]},e.value))})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(B.Z,{className:"w-5 h-5 text-orange-600"}),"让步模式"]}),(0,t.jsx)(d.SZ,{children:"选择你的让步策略和节奏"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(e=>(0,t.jsxs)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(a.concessionPattern===e.value?e.color:"border-gray-200 hover:border-gray-300"),onClick:()=>l({concessionPattern:e.value}),children:[(0,t.jsx)("div",{className:"font-semibold mb-2",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description}),a.concessionPattern===e.value&&(0,t.jsx)(y,{className:"mt-2 bg-orange-600",children:"已选择"})]},e.value))})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"w-5 h-5 text-green-600"}),"时间策略"]}),(0,t.jsx)(d.SZ,{children:"制定你的时间安排和节奏控制策略"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"timeStrategy",children:"时间策略描述"}),(0,t.jsx)(g,{id:"timeStrategy",value:a.timeStrategy,onChange:e=>l({timeStrategy:e.target.value}),placeholder:"例如：分3次谈判，每次间隔1周，给双方思考时间。第一次主要沟通立场，第二次具体讨论条件，第三次最终确定。",className:"min-h-[100px] mt-2"})]})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"策略总结"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-1",children:"谈判方式"}),(0,t.jsx)("div",{className:"text-lg",children:(null===(e=n.find(e=>e.value===a.approach))||void 0===e?void 0:e.label)||"未选择"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-orange-800 dark:text-orange-200 mb-1",children:"让步模式"}),(0,t.jsx)("div",{className:"text-lg",children:(null===(s=r.find(e=>e.value===a.concessionPattern))||void 0===s?void 0:s.label)||"未选择"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-green-800 dark:text-green-200 mb-1",children:"时间安排"}),(0,t.jsx)("div",{className:"text-sm",children:a.timeStrategy?"已制定":"待完善"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"策略建议"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:["collaborative"===a.approach&&(0,t.jsx)("p",{children:"• 合作型谈判：强调共同利益，寻找创造性解决方案，保持开放沟通"}),"competitive"===a.approach&&(0,t.jsx)("p",{children:"• 竞争型谈判：明确底线，坚持立场，准备好替代方案"}),"accommodating"===a.approach&&(0,t.jsx)("p",{children:"• 迁就型谈判：优先考虑关系维护，适当让步，寻求长期合作"}),"linear"===a.concessionPattern&&(0,t.jsx)("p",{children:"• 线性让步：保持稳定节奏，避免过早暴露底线"}),"exponential"===a.concessionPattern&&(0,t.jsx)("p",{children:"• 递减让步：初期展现诚意，后期坚持原则"}),"step"===a.concessionPattern&&(0,t.jsx)("p",{children:"• 阶梯让步：分阶段推进，每个阶段都要有明确目标"})]})]})]})})]}),a.approach&&a.concessionPattern&&a.timeStrategy&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"谈判策略制定完成！"})]}),(0,t.jsx)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:'已确定谈判方式、让步模式和时间策略。点击"下一步"继续准备开场锚点。'})]})]})},7:function(){var e;let{anchorStrategy:s,updateAnchorStrategy:a,issues:l}=(0,i.j)(),n=[{value:"aggressive",label:"激进锚点",description:"设定较高的初始报价，为后续让步留出空间",color:"bg-red-50 border-red-200 text-red-800"},{value:"moderate",label:"温和锚点",description:"设定合理的初始报价，平衡期望与现实",color:"bg-blue-50 border-blue-200 text-blue-800"},{value:"conservative",label:"保守锚点",description:"设定较为保守的初始报价，降低谈判风险",color:"bg-green-50 border-green-200 text-green-800"}],c=(e,t)=>{a({firstOffer:{...s.firstOffer,[e]:t}})},o=e=>{e.trim()&&a({justification:[...s.justification,e.trim()]})},x=e=>{a({justification:s.justification.filter((s,a)=>a!==e)})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"开场锚点策略"}),(0,t.jsx)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"锚点效应是谈判中的重要心理现象。你的首次报价将影响整个谈判的走向， 需要根据你的策略和对方情况来精心设计。"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(V.Z,{className:"w-5 h-5 text-blue-600"}),"锚点类型"]}),(0,t.jsx)(d.SZ,{children:"选择适合你情况的锚点策略"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(e=>(0,t.jsxs)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(s.type===e.value?e.color:"border-gray-200 hover:border-gray-300"),onClick:()=>a({type:e.value}),children:[(0,t.jsx)("div",{className:"font-semibold mb-2",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description}),s.type===e.value&&(0,t.jsx)(y,{className:"mt-2 bg-blue-600",children:"已选择"})]},e.value))})})]}),l.length>0&&(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-green-600"}),"首次报价"]}),(0,t.jsx)(d.SZ,{children:"为每个议题设定你的开场报价"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["理想值: ",e.idealValue," ",e.unit," | 底线: ",e.bottomLine," ",e.unit]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"offer-".concat(e.id),children:"首次报价"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m,{id:"offer-".concat(e.id),type:"number",value:s.firstOffer[e.id]||"",onChange:s=>c(e.id,parseFloat(s.target.value)||0),placeholder:"输入首次报价",step:"0.1"}),(0,t.jsx)("span",{className:"flex items-center text-sm text-gray-500",children:e.unit})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("div",{className:"text-sm",children:s.firstOffer[e.id]&&(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat(s.firstOffer[e.id]>e.idealValue?"bg-red-100 text-red-800":s.firstOffer[e.id]>=e.acceptableValue?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:s.firstOffer[e.id]>e.idealValue?"超出理想值":s.firstOffer[e.id]>=e.acceptableValue?"理想区间":"保守报价"})})})})]})]},e.id))})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Z,{className:"w-5 h-5 text-purple-600"}),"理由准备"]}),(0,t.jsx)(d.SZ,{children:"准备支持你报价的合理理由和依据"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"添加理由"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(g,{placeholder:"例如：根据当地习俗和经济水平，这个金额是合理的...",className:"flex-1",onKeyPress:e=>{if("Enter"===e.key&&!e.shiftKey){e.preventDefault();let s=e.target;o(s.value),s.value=""}}}),(0,t.jsx)(r.z,{onClick:e=>{var s;let a=null===(s=e.target.parentElement)||void 0===s?void 0:s.querySelector("textarea");a&&(o(a.value),a.value="")},children:"添加"})]})]}),s.justification.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"已准备的理由"}),(0,t.jsx)("div",{className:"mt-2 space-y-2",children:s.justification.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("div",{className:"flex-1 text-sm",children:e}),(0,t.jsx)(r.z,{size:"sm",variant:"outline",onClick:()=>x(s),children:"删除"})]},s))})]})]})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"策略总结"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"锚点类型"}),(0,t.jsx)("div",{children:(null===(e=n.find(e=>e.value===s.type))||void 0===e?void 0:e.label)||"未选择"})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"准备状态"}),(0,t.jsxs)("div",{className:"text-sm",children:["报价: ",Object.keys(s.firstOffer).length,"/",l.length," 个议题",(0,t.jsx)("br",{}),"理由: ",s.justification.length," 条"]})]})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"锚点使用提醒"}),(0,t.jsxs)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[(0,t.jsx)("p",{children:"• 首次报价要有充分的理由支撑，避免显得随意"}),(0,t.jsx)("p",{children:"• 观察对方的反应，适时调整后续策略"}),(0,t.jsx)("p",{children:"• 保持自信，但也要显示出谈判的诚意"}),(0,t.jsx)("p",{children:"• 准备好应对对方可能的反锚点策略"})]})]})]})})]}),s.type&&Object.keys(s.firstOffer).length>0&&(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(V.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"锚点策略准备完成！"})]}),(0,t.jsx)("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:'已设定锚点类型和首次报价。点击"下一步"生成完整的谈判准备报告。'})]})]})},8:function(){var e;let{goals:s,issues:a,batnaOptions:l,bestBatna:c,bottomLineBuffer:o,stakeholders:x,strategy:m,anchorStrategy:g,reportSettings:h,updateReportSettings:p}=(0,i.j)(),u={goals:!!(s.primary&&s.timeline),issues:a.length>0,batna:!!c,stakeholders:x.length>0,strategy:!!(m.approach&&m.concessionPattern&&m.timeStrategy),anchor:!!(g.type&&Object.keys(g.firstOffer).length>0)},j=Object.values(u).filter(Boolean).length,v=Object.keys(u).length,[f,N]=(0,n.useState)(!1),[k,w]=(0,n.useState)(""),[C,Z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{w(U({goals:s,issues:a,batnaOptions:l,bestBatna:c,bottomLineBuffer:o,stakeholders:x,strategy:m,anchorStrategy:g}))},[s,a,l,c,o,x,m,g]);let D=async e=>{N(!0),p({format:e});try{let s=document.createElement("div");s.id="export-container",s.innerHTML=k,s.style.position="absolute",s.style.left="-9999px",s.style.top="0",s.style.width="800px",s.style.background="white",document.body.appendChild(s),await new Promise(e=>setTimeout(e,500)),await K("export-container",{format:e,filename:"negotiation-report-".concat(new Date().toISOString().split("T")[0]),scale:2,quality:.9}),document.body.removeChild(s),alert("".concat(e.toUpperCase()," 报告导出成功！"))}catch(e){console.error("Export failed:",e),alert("导出失败：".concat(e instanceof Error?e.message:"未知错误"))}finally{N(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 text-green-600"}),"准备完成度"]}),(0,t.jsxs)(d.SZ,{children:[j,"/",v," 个模块已完成"]})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(j/v*100,"%")}})}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"goals",label:"谈判目标",icon:"\uD83C\uDFAF"},{key:"issues",label:"关键议题",icon:"\uD83D\uDCCB"},{key:"batna",label:"BATNA计算",icon:"\uD83E\uDDEE"},{key:"stakeholders",label:"利益相关者",icon:"\uD83D\uDC65"},{key:"strategy",label:"谈判策略",icon:"\uD83C\uDFB2"},{key:"anchor",label:"锚点策略",icon:"⚓"}].map(e=>(0,t.jsx)("div",{className:"p-3 rounded-lg border ".concat(u[e.key]?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200 text-gray-600"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),(0,t.jsx)("span",{className:"font-medium",children:e.label}),u[e.key]?(0,t.jsx)(Y.Z,{className:"w-4 h-4 text-green-600"}):(0,t.jsx)(b.Z,{className:"w-4 h-4 text-gray-400"})]})},e.key))})]})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(L.Z,{className:"w-5 h-5 text-blue-600"}),"谈判准备总结"]})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[u.goals&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83C\uDFAF 谈判目标"}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:s.primary}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["时间框架: ",s.timeline]}),s.secondary.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"次要目标: "}),s.secondary.map((e,s)=>(0,t.jsx)(y,{variant:"outline",className:"mr-1 text-xs",children:e},s))]})]})]}),u.issues&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2",children:["\uD83D\uDCCB 关键议题 (",a.length,"个)"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[a.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)(y,{variant:"secondary",children:["重要性: ",e.importance,"/10"]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["理想值: ",e.idealValue," ",e.unit," | 底线: ",e.bottomLine," ",e.unit]})]},e.id)),a.length>3&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["还有 ",a.length-3," 个议题..."]})]})]}),u.batna&&c&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83E\uDDEE 最佳BATNA"}),(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:c.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["净价值: ",null===(e=c.netValue)||void 0===e?void 0:e.toFixed(1)," 万元"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:c.description})]})]}),u.strategy&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83C\uDFB2 谈判策略"}),(0,t.jsx)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"谈判方式: "}),(0,t.jsx)(y,{variant:"outline",children:"collaborative"===m.approach?"合作型":"competitive"===m.approach?"竞争型":"迁就型"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"让步模式: "}),(0,t.jsx)(y,{variant:"outline",children:"linear"===m.concessionPattern?"线性让步":"exponential"===m.concessionPattern?"递减让步":"阶梯让步"})]})]})})]}),u.anchor&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"⚓ 开场锚点"}),(0,t.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:"aggressive"===g.type?"激进锚点":"moderate"===g.type?"温和锚点":"保守锚点"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["已为 ",Object.keys(g.firstOffer).length," 个议题设定首次报价"]})]})]})]})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(T.Z,{className:"w-5 h-5 text-green-600"}),"导出报告"]}),(0,t.jsx)(d.SZ,{children:"生成专业的谈判准备报告，可分享给团队或保存备用"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(r.z,{onClick:()=>D("png"),className:"h-auto p-4 flex flex-col items-center gap-2",variant:"outline",disabled:f,children:[(0,t.jsx)("div",{className:"text-2xl",children:f?"⏳":"\uD83D\uDDBC️"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:"PNG 长图"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:f?"导出中...":"适合社交分享"})]})]}),(0,t.jsxs)(r.z,{onClick:()=>D("pdf"),className:"h-auto p-4 flex flex-col items-center gap-2",variant:"outline",disabled:f,children:[(0,t.jsx)("div",{className:"text-2xl",children:f?"⏳":"\uD83D\uDCC4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:"PDF 报告"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:f?"导出中...":"专业文档格式"})]})]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(r.z,{onClick:()=>Z(!C),variant:"outline",className:"w-full",children:C?"隐藏预览":"\uD83D\uDCCB 预览报告内容"})}),C&&(0,t.jsx)("div",{className:"mb-6 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:(0,t.jsx)(G,{})}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"报告内容包括"}),(0,t.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[(0,t.jsx)("p",{children:"✓ 完整的谈判目标和策略分析"}),(0,t.jsx)("p",{children:"✓ 详细的议题价值区间图表"}),(0,t.jsx)("p",{children:"✓ BATNA计算和底线分析"}),(0,t.jsx)("p",{children:"✓ 利益相关者影响力矩阵"}),(0,t.jsx)("p",{children:"✓ 开场锚点和理由准备"}),(0,t.jsx)("p",{children:"✓ 实用的谈判脚本模板"})]})]})]})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"下一步建议"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"1."}),(0,t.jsx)("span",{children:"仔细复习准备的内容，确保对每个要点都熟悉"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"2."}),(0,t.jsx)("span",{children:"与信任的朋友或家人进行模拟谈判练习"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"3."}),(0,t.jsx)("span",{children:"准备相关的支撑材料和证据"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"4."}),(0,t.jsx)("span",{children:"选择合适的谈判时间和地点"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"5."}),(0,t.jsx)("span",{children:"保持开放和尊重的心态，记住目标是达成双赢"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF89"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-green-800 dark:text-green-200 mb-2",children:"恭喜！谈判准备已完成"}),(0,t.jsx)("p",{className:"text-green-700 dark:text-green-300",children:"你已经完成了专业的谈判准备流程。现在你拥有了清晰的目标、 科学的策略和充分的准备，可以自信地进入谈判了。"}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(r.z,{onClick:()=>window.location.href="/",className:"bg-green-600 hover:bg-green-700",children:"返回首页"})})]})]})}},W={1:"设定谈判目标",2:"识别关键议题",3:"确定价值区间",4:"计算BATNA方案",5:"分析对方情况",6:"制定谈判策略",7:"准备开场锚点",8:"生成完整报告"};function J(e){let{id:s}=e,a=(0,l.useRouter)(),x=parseInt(s),{setCurrentStep:m,metadata:g}=(0,i.j)();(0,n.useEffect)(()=>{x>=1&&x<=8?m(x):a.push("/step/1")},[x,m,a]);let h=H[x];return h?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["第 ",x," 步：",W[x]]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[x," / 8"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(x/8*100,"%")}})}),(0,t.jsx)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:Object.entries(W).map(e=>{let[s,a]=e;return(0,t.jsx)("div",{className:"text-center ".concat(parseInt(s)<=x?"text-blue-600 font-medium":""),children:a},s)})})]}),(0,t.jsxs)(d.Zb,{className:"mb-8",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:x}),W[x]]})}),(0,t.jsx)(d.aY,{children:(0,t.jsx)(h,{})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)(r.z,{variant:"outline",onClick:()=>{x>1?a.push("/step/".concat(x-1)):a.push("/")},className:"flex items-center gap-2",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),1===x?"返回首页":"上一步"]}),x<8&&(0,t.jsxs)(r.z,{onClick:()=>{x<8&&a.push("/step/".concat(x+1))},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:["下一步",(0,t.jsx)(o.Z,{className:"w-4 h-4"})]})]}),(0,t.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-500",children:["数据已自动保存到本地浏览器",(0,t.jsx)("br",{}),"最后更新：",new Date(g.updatedAt).toLocaleString("zh-CN")]})]})}):(0,t.jsx)("div",{children:"页面不存在"})}}},function(e){e.O(0,[505,337,157,881,569,971,117,744],function(){return e(e.s=4220)}),_N_E=e.O()}]);